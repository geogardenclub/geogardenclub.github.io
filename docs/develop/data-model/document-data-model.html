<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-develop/data-model/document-data-model" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Document Data Model | Geo Garden Club</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://geogardenclub.com/img/logos/png/wordmark.png"><meta data-rh="true" name="twitter:image" content="https://geogardenclub.com/img/logos/png/wordmark.png"><meta data-rh="true" property="og:url" content="https://geogardenclub.com/docs/develop/data-model/document-data-model"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="Garden planning app, Garden design software, Vegetable garden planner, Online garden planner, Backyard garden planner, Organic garden planning, Community garden planner, Sustainable gardening app, Community food resiliency, Local planting guide app, Smart garden planner, Vegetable garden design tool, Interactive garden planner, Garden journal and tracker, Small garden design app"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Document Data Model | Geo Garden Club"><meta data-rh="true" name="description" content="This page explains the document data model (i.e. the set of entities and their relationships stored in Firebase) for GGC, along with a rationale for the design decisions that we&#x27;ve made along the way."><meta data-rh="true" property="og:description" content="This page explains the document data model (i.e. the set of entities and their relationships stored in Firebase) for GGC, along with a rationale for the design decisions that we&#x27;ve made along the way."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://geogardenclub.com/docs/develop/data-model/document-data-model"><link data-rh="true" rel="alternate" href="https://geogardenclub.com/docs/develop/data-model/document-data-model" hreflang="en"><link data-rh="true" rel="alternate" href="https://geogardenclub.com/docs/develop/data-model/document-data-model" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Document Data Model","item":"https://geogardenclub.com/docs/develop/data-model/document-data-model"}]}</script><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="Geo Garden Club RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="Geo Garden Club Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WMYL9625P3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WMYL9625P3",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.a3091e05.css">
<script src="/assets/js/runtime~main.393de70c.js" defer="defer"></script>
<script src="/assets/js/main.cda31a61.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#02695c;color:white" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><h3 style="margin-top: 15px"> &#128226; Release 2.27.0 now available.  Click <a target="_blank" rel="noopener noreferrer" href="/news/2025/10/22/release">here</a> for details.</h3></div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/png/icon2.png" alt="Geo Garden Club" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logos/png/icon2.png" alt="Geo Garden Club" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Geo Garden Club</b></a><a class="navbar__item navbar__link" href="/pricing">Pricing</a><a class="navbar__item navbar__link" href="/docs/home/welcome">About</a><a class="navbar__item navbar__link" href="/docs/user-guide/overview">User Guide</a><a class="navbar__item navbar__link" href="/news">News</a><a class="navbar__item navbar__link" href="/docs/user-guide/faq">FAQ</a><a class="navbar__item navbar__link button button--outline button--primary button--md" href="/docs/user-guide/get-started/overview">Get Started</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item"><a href="https://www.instagram.com/geogardenclub/" target="_blank" style="content: ''; width: 24px; height: 24px; background-image: url('/instagram/instagram.png'); background-repeat: no-repeat;  background-size: 24px 24px; display: flex"></a></div><div class="navbar__item"><a href="https://www.facebook.com/geogardenclub" target="_blank" style="content: ''; width: 24px; height: 24px; background-image: url('/facebook/facebook.png'); background-repeat: no-repeat;  background-size: 24px 24px; display: flex"></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/onboarding">Onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/develop/data-model/document-data-model">Data Models</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/develop/data-model/document-data-model">Document Data Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/database-management">Database management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/deployment">Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/screenshots">Screenshots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/backups">Backups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/scripts">Scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/privacy">Privacy and security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/instrumentation">Instrumentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/firebase-billing">Firebase Billing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/adaptive-design">Adaptive design</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/develop/design/features">Design Patterns</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/develop/quality-assurance/coding-standards">Quality Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/develop/releases/release-1.0/goals">Prior Releases</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/business">Business Development Guide</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Data Models</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Document Data Model</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Document Data Model</h1></header>
<p>This page explains the document data model (i.e. the set of entities and their relationships stored in Firebase) for GGC, along with a rationale for the design decisions that we&#x27;ve made along the way.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Last Update: October 2025</div></div>
<p>There is also a <a href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>In GGC, &quot;entity&quot; refers to the fundamental forms of persistent data objects. Examples of entities are: &quot;Chapter&quot;, &quot;Garden&quot;, &quot;Gardener&quot;, &quot;Observation&quot;, etc.  There are around two dozen entities in the system.</p>
<p>Entity instances are persisted as documents in a Firebase collection. In general, each entity has a corresponding collection: for example, all the Chapter entity documents are stored in a Firebase collection called chapters, all the Gardener entity documents are stored in a Firebase collection called gardeners, and so forth.</p>
<p>Here is a snapshot of the Firestore console showing the entity collections at that point in time:</p>
<img src="/img/develop/firestore/firestore-console.png">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="required-vs-optional-vs-vestigial">Required vs. Optional vs. Vestigial<a href="#required-vs-optional-vs-vestigial" class="hash-link" aria-label="Direct link to Required vs. Optional vs. Vestigial" title="Direct link to Required vs. Optional vs. Vestigial">​</a></h2>
<p>An unfortunate problem with mobile apps is that, at any time, there may be (at least one) prior version of the app &quot;in the field&quot; due to users not having updated.  This makes data model evolution complicated: you can&#x27;t simply change the database structure to fit only the latest design since that new design may be incompatible with a prior version and cause any apps running that prior version in the field to crash.</p>
<p>To manage this problem, evolution in the data model must always (initially) be &quot;backward compatible&quot;: any change to enable a new feature must not break (at least) the previous version.  In many cases, that results in &quot;vestigial&quot; collections and entity fields: they are no longer used in the latest version of the system, but cannot be deleted until all apps in the field have been updated to the latest version.</p>
<p>So, in this documentation, Firebase collections can be either &quot;vestigial&quot; or &quot;required&quot;:</p>
<ul>
<li>Vestigial: the collection is no longer used in the latest version, and will eventually be deleted.</li>
<li>Required: the collection is required for the current release.</li>
</ul>
<p>Entity fields can be either &quot;vestigial&quot;, &quot;required&quot;, or &quot;optional&quot;:</p>
<ul>
<li>Vestigial: the field is no longer used in the latest version, and will eventually be deleted.</li>
<li>Required: the field must always have a value.</li>
<li>Optional: the field can be missing in Firebase (or null).</li>
</ul>
<p>While that might seem simple enough, it turns out that maintaining backward compatibility for entity fields can lead to misleading type declarations in the code. For example:</p>
<ul>
<li>A field can be declared as &quot;required&quot; in the Dart factory declaration, even though it is &quot;vestigial&quot;. That means that the code supplies a value for this field even though it is no longer actually used in the current version so that prior versions will not crash.</li>
<li>A field can be declared as nullable (i.e. optional) in the Dart factory declaration, even though it is now &quot;required&quot;. This means that this field was previously optional, but became required, and now the database and (current) code enforce that even though the type declaration does not (yet).</li>
<li>A Firebase document in the database might include fields that do not appear in the Dart factory declaration. This happens when those fields have become vestigial and have been removed from the codebase since no apps in the field run a version that requires those fields. (We can now safely overwrite those documents to delete the vestigial fields, but have not done so.)</li>
</ul>
<p>So, what this means is that the Dart factory type declarations may not accurately reflect the &quot;required&quot; vs. &quot;optional&quot; vs. &quot;vestigial&quot; nature of entity fields. That is why this data model documentation provides an indication, for each field, of its required, optional, or vestigial status.</p>
<p>In this page, only required collections are documented. The vestigial Firebase collections are: chat_rooms, chat_users, seeds, share_posts, share_replies, and value_per_units.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-memory-entities-and-collections">In-memory entities and collections<a href="#in-memory-entities-and-collections" class="hash-link" aria-label="Direct link to In-memory entities and collections" title="Direct link to In-memory entities and collections">​</a></h2>
<p>The GGC app needs a way to represent  the entities stored in the database in memory. It does so via a pair of Dart &quot;domain&quot; classes that mirror these Firebase collections. So, for example, if there is an entity named &quot;Foo&quot;, then:</p>
<ol>
<li>There is a Firebase collection called &quot;foos&quot; providing persistant storage of these entities.</li>
<li>There is a Dart class called &quot;Foo&quot; providing an in-memory representation of the Firebase foo documents.</li>
<li>There is a Dart class called &quot;FooCollection&quot;, with methods that clients can call to obtain access to all the in-memory Foo instances.  Note that an instance of the FooCollection will often not contain all the Foo instances in the Firebase Foo collection; but it should always contain all the Foo instances <em>needed</em> by the app at that particular point in time.  (For example, the FooCollection might only provide access to the Foo instances associated with the current Chapter.)</li>
</ol>
<p>We use the <a href="https://pub.dev/packages/freezed" target="_blank" rel="noopener noreferrer">Freezed</a> package to facilitate the definition of entities, and the <a href="/docs/develop/design/with-widgets">With Widgets</a> design pattern to manage the relationship between the Firebase collections and their in-memory counterparts.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-hierarchy">Entity Hierarchy<a href="#entity-hierarchy" class="hash-link" aria-label="Direct link to Entity Hierarchy" title="Direct link to Entity Hierarchy">​</a></h3>
<p>The following diagram provides one way to understand the organization of GGC entities: as a three level hierarchy:</p>
<img style="border-style:solid" src="/img/develop/data-entity-overview.png">
<p>(Note that not all current entities may be present in this diagram.)</p>
<p>This hierarchical perspective partitions entities into three levels:</p>
<ol>
<li>&quot;Global-level&quot; entities.  All of these entities are available in all Chapters.</li>
<li>&quot;Chapter-level&quot; entities. These entities are specific to a single Chapter.  Note that each user is associated with a single Chapter, and thus can only &quot;see&quot; the chapter-level entities associated with their chapterID. Chapter-level entities are normally downloaded and cached in the client application upon login.</li>
<li>&quot;Garden-level&quot; entities. These entities are all specific to a single Garden, and include both a chapterID and a gardenID. Garden-level entities are only visible within their Chapter. In addition, Garden-level entities are typically downloaded on-demand.</li>
</ol>
<p>This diagram can also be used to understand the relative numbers of entities that a given client must manipulate. Each of the &quot;Global-level&quot; entities will have dozens to hundreds of instances, and so it is practical for the client application to cache all of them locally without a large performance impact.</p>
<p>Since each User is associated with a single Chapter, the number of &quot;Chapter-level&quot; entity instances for a given user should be on the order of hundreds to thousands. This means it is also practical for the client application to cache all &quot;visible&quot; Chapter-level entities locally.</p>
<p>However, we anticipate that each of the (potentially several hundred) Users in a Chapter could be associated with several Gardens. Each Garden might have hundreds to thousands of Garden-associated entities (Plantings, Outcomes, Observations, etc). This means it is potentially impractical for the client application to cache all the &quot;Garden-level&quot; entities: hundreds of Users times dozens of Gardens times thousands of Garden entities equals millions of entities. Thus, at the Garden level, GGC attempts to be &quot;smart&quot; about what it downloads from the database so that the client app remains responsive as the number of Users, Gardens, and Plantings in their Chapter grows.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>But what about huge chapter membership?</div><div class="admonitionContent_BuS1"><p>What if a Chapter becomes wildly popular and grows to many thousands of members? It is possible that the performance of the client application can degrade if the number of members in a single Chapter becomes too large.</p><p>To address this potential problem, the data model is also designed to facilitate partitioning of large Chapters into multiple smaller Chapters. For example, the initial definition of a Chapter may comprise 20 postal (zip) codes, corresponding to all the postal codes in that county. But if that Chapter becomes too large, we could split it into two Chapters, each defined with 10 postal codes (or one with 15 postal codes and one with 5 postal codes, depending upon the concentration of members in each postal code).  Our data model does not currently allow Chapter definition &quot;below&quot; the level of a postal code, so the smallest possible Chapter in GeoGardenClub would be one defined by a single postal code.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-dependencies">Entity dependencies<a href="#entity-dependencies" class="hash-link" aria-label="Direct link to Entity dependencies" title="Direct link to Entity dependencies">​</a></h3>
<p>The following diagram presents an alternative perspective on the entities. In this case, there is a line between two entities when there is a relationship between them; in other words, one of the entities refers to the other with a foreign key (i.e. ID) field.</p>
<img style="border-style:solid" src="/img/develop/data-model-dependencies.png">
<p>The goal of this diagram is to illustrate that there is a fairly rich set of dependencies among the entities in this data model.</p>
<p>This is a positive thing, because it means that there are many different and interesting ways to &quot;slice and dice&quot; the data.</p>
<p>It also illustrates why we have chosen to implement the data model as a set of top-level collections with no subcollections. The many different relationships argue against the use of subcollections. The Firestore documentation indicates that there is no performance penalty to using all top-level collections. More details are available in the Firebase documentation called <a href="https://firebase.google.com/docs/firestore/manage-data/structure-data" target="_blank" rel="noopener noreferrer">Choose a data structure</a>.</p>
<p>Let&#x27;s now turn to a more detailed description of the entities in the data model.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="country">Country<a href="#country" class="hash-link" aria-label="Direct link to Country" title="Direct link to Country">​</a></h2>
<p>GeoGardenClub is currently available in two countries: the US and Canada. In future, we may expand to more countries. This collection provides access to important properties used for the Chapter entity and Retail Value feature.</p>
<p>The Country entity defines four properties of a Country: its code, currency, weight unit, and states.</p>
<p>The set of Countries in GGC are manually maintained by administrators. Here is an example Country document:</p>
<img src="/img/develop/firestore/firestore-console-countries.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="country-entity-representation">Country entity representation<a href="#country-entity-representation" class="hash-link" aria-label="Direct link to Country entity representation" title="Direct link to Country entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Country</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">CountryCode</span><span class="token plain"> countryCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">CurrencyCode</span><span class="token plain"> currencyCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">WeightUnit</span><span class="token plain"> weightUnit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> states</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>countryCode</td><td>required</td><td><code>String</code></td><td>(Primary key) A country code from an enum. For example, <code>&quot;US&quot;</code>.</td></tr><tr><td>currencyCode</td><td>required</td><td><code>String</code></td><td>A currency code from an enum. For example, <code>&quot;USD&quot;</code>.</td></tr><tr><td>weightUnit</td><td>required</td><td><code>String</code></td><td>The weight unit from an enum. For example, <code>&quot;lb&quot;</code>.</td></tr><tr><td>states</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A list of states in this country. For example, <code>[&quot;AL&quot;, &quot;AZ&quot;]</code>.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chapter">Chapter<a href="#chapter" class="hash-link" aria-label="Direct link to Chapter" title="Direct link to Chapter">​</a></h2>
<p>The Chapter entity defines a geographic region based on a country, a state in the country, a region in the state (typically a county), and a set of one or more postal codes in the region.</p>
<p>GGC needs to ensure that Chapter instances partition the world: every tuple of (country code, region, postal code) maps to exactly one Chapter.</p>
<p>The set of Chapters in GGC are manually maintained through admin commands. Here is an example Chapter document:</p>
<img src="/img/develop/firestore/firestore-console-chapters.png">
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ChapterID is an important Firebase index</div><div class="admonitionContent_BuS1"><p>As will be seen, many entities contain a chapterID field.  When a client retrieves data from Firebase, it will often request only the documents where the chapterID field is the one associated with their chapter. This is a primary way to make GGC scalable to thousands of chapters and hundreds of thousands of users.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chapter-entity-representation">Chapter entity representation<a href="#chapter-entity-representation" class="hash-link" aria-label="Direct link to Chapter entity representation" title="Direct link to Chapter entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Chapter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">String</span><span class="token plain"> countryCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> postalCodes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> region</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> currency</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedGardenNames</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedCropNames</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedUsernames</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedBadgeNames</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedVarietyNames</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> pictureURL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> lastUpdate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">int</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> int</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedCropQuantity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">CropQuantityMap</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedCropQuantityMap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">int</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedRetailValue</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Required fields may sometimes be nullable for backward compatibility</div><div class="admonitionContent_BuS1"><p>Note that some of these fields are declared as nullable (i.e. optional) for backward compatibility with previous app releases, even though they are effectively required. Once all apps in the field have been updated to a recent release, it would be possible to update the production database to ensure that these fields never have a null value, and then change the field declarations to indicate that they are required.</p></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID with the format <code>chapter-&lt;countryCode&gt;-&lt;NNN&gt;</code>. For example, <code>&quot;chapter-US-001&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>A unique name. For example, <code>&quot;Whatcom-WA&quot;</code>.</td></tr><tr><td>countryCode</td><td>required</td><td><code>String</code></td><td>The country code. This must be one of the countryCodes defined in the Countries collection. For example, <code>&quot;US&quot;</code>.</td></tr><tr><td>state</td><td>required</td><td><code>String</code></td><td>The state within the country. This must be one of the states defined in the associated Country document. For example, <code>&quot;WA&quot;</code>.</td></tr><tr><td>region</td><td>required</td><td><code>String</code></td><td>A region within the state. This can be any string, defined by the admin when a Chapter document is created. For example, <code>&quot;Whatcom County&quot;</code>.</td></tr><tr><td>postalCodes</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A list of alphanumeric postal codes. For example, <code>[&quot;96822&quot;, &quot;96734&quot;]</code>.</td></tr><tr><td>lastUpdate</td><td>optional</td><td><code>DateTime?</code></td><td>Indicates the last time an entity associated with this Chapter was created, updated, or deleted.  For example, <code>&quot;2025-10-22T07:11:44.385688&quot;</code>.</td></tr><tr><td>pictureURL</td><td>optional</td><td><code>String?</code></td><td>The URL to a Cloud Storage file providing a picture of this Chapter. See <a href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a> for details.</td></tr><tr><td>cachedCropNames</td><td>optional</td><td><code>List&lt;String&gt;?</code></td><td>A list of all the Crop names planted across all Gardens in this Chapter. For example, <code>[&quot;Basil&quot;, &quot;Tomato&quot;]</code>.  The chapter-local name is used when appropriate.</td></tr><tr><td>cachedVarietyNames</td><td>optional</td><td><code>List&lt;String&gt;?</code></td><td>A list of all the Variety names planted across all Gardens in this Chapter. For example, <code>[&quot;Tomato (Big Boy)&quot;]</code></td></tr><tr><td>cachedUserNames</td><td>optional</td><td><code>List&lt;String&gt;?</code></td><td>A list of all the usernames of the Gardeners in this Chapter. For example, <code>[&quot;@FiveOClockPhil&quot;]</code>.</td></tr><tr><td>cachedGardenNames</td><td>optional</td><td><code>List&lt;String&gt;?</code></td><td>A list of all the Garden names in this Chapter. For example, <code>[&quot;Alderwood&quot;, &quot;Kale is for Kids&quot;]</code>.</td></tr><tr><td>cachedCropQuantityMap</td><td>optional</td><td><code>CropQuantityMap</code></td><td>A map that indicates, for each year, the quantity of each Crop harvested across all Gardens in this Chapter. This data is combined with Price data to compute the Retail Value associated with this Chapter. See the <a href="/docs/develop/design/retail-value">Retail Value</a> design document for details. For example, <code>{cropMap: {2024: {crop-US-003-326-0812: 15000}}</code>.</td></tr><tr><td>currency</td><td>vestigial</td><td></td><td></td></tr><tr><td>cachedBadgeNames</td><td>vestigial</td><td></td><td></td></tr><tr><td>cachedRetailValue</td><td>vestigial</td><td></td><td></td></tr><tr><td>cachedCropQuantity</td><td>vestigial</td><td></td><td></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Why do some field names start with &quot;cached&quot;?</div><div class="admonitionContent_BuS1"><p>The Chapter Index screen provides summaries of all the Chapters in GeoGardenClub. By providing cached fields, we provide a way for users to see things like the names of Gardens, Gardeners, Crops, Varieties, and Retail Values associated with other Chapters without having to download all the data associated with all Chapters. In other words, these fields &quot;cache&quot; information that could be derived by processing other data, but which would be expensive to do in practice.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="user">User<a href="#user" class="hash-link" aria-label="Direct link to User" title="Direct link to User">​</a></h2>
<p>The User entity provides basic information about all the currently registered users of the system.</p>
<p>Here is an example of a user document:</p>
<img src="/img/develop/firestore/firestore-console-users.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-entity-representation">User entity representation<a href="#user-entity-representation" class="hash-link" aria-label="Direct link to User entity representation" title="Direct link to User entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">User</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> userID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> username</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> country</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> postalCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> uid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> themeMode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> themeName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">DateTime</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> lastReadMap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> pictureURL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">TimelineData</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> timelineData</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> appReviewShown</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>userID</td><td>required</td><td><code>String</code></td><td>(Primary key) The email address used to register with the system. For example, <code>&quot;johnson@hawaii.edu&quot;</code>. This cannot be changed.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The ID of their chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>Their name (for admin purposes only, never displayed to other users). For example, <code>&quot;Philip Johnson&quot;</code>.</td></tr><tr><td>username</td><td>required</td><td><code>String</code></td><td>A self-selected (and modifiable) user name that is used to identify this user to other users. For example, <code>&quot;@FiveOClockPhil&quot;</code>.</td></tr><tr><td>pictureURL</td><td>optional</td><td><code>String?</code></td><td>The URL to a Cloud Storage file providing a picture of this Chapter. See <a href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a> for details.</td></tr><tr><td>themeMode</td><td>optional</td><td><code>String?</code></td><td>The user&#x27;s UI display mode. One of <code>&quot;light&quot;</code>, <code>&quot;dark&quot;</code>, or <code>&quot;system&quot;</code>.</td></tr><tr><td>themeName</td><td>optional</td><td><code>String?</code></td><td>The user&#x27;s UI display theme. For example, <code>&quot;green&quot;</code>.</td></tr><tr><td>lastReadMap</td><td>optional</td><td><code>Map&lt;String, DateTime&gt;?</code></td><td>A map used to determine whether or not to display &quot;red dots&quot; in the UI (for example in the home page).  Some of the entries might be vestigial (i.e. the UID of Chat Rooms).</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>timelineData</td><td>optional</td><td><code>TimelineData?</code></td><td>Stores the User&#x27;s last Timeline setting (i.e. the interval, year, start date, and end date) so that it&#x27;s &quot;sticky&quot;.</td></tr><tr><td>appReviewShown</td><td>optional</td><td><code>String?</code></td><td>A comma-separated list of DateTime strings indicating the times the dialog box asking the User to review the App has been shown.</td></tr><tr><td>uid</td><td>vestigial</td><td></td><td></td></tr><tr><td>country</td><td>vestigial</td><td></td><td></td></tr><tr><td>postalCode</td><td>vestigial</td><td></td><td></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-document-creation">User document creation<a href="#user-document-creation" class="hash-link" aria-label="Direct link to User document creation" title="Direct link to User document creation">​</a></h3>
<p>After a user successfully registers with the system using the Firebase authentication procedures, they can log in.  Whenever a user logs in, the system checks to see if there is a User document associated with the email address of the current user. If there is no User document associated with that email, then instead of showing the Home screen, the system shows the Create Profile screen that includes a form to provide User information.</p>
<p>Once the User submits the Create Profile form, the system creates a User and Gardener document and displays the Home Screen.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gardener">Gardener<a href="#gardener" class="hash-link" aria-label="Direct link to Gardener" title="Direct link to Gardener">​</a></h2>
<p>Every Gardener instance has a corresponding User instance, and vice-versa.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What? Why have a Gardener entity in addition to a User entity?</div><div class="admonitionContent_BuS1"><p>In the original design of GGC, we had &quot;Users&quot; (everyone who has an account), &quot;Gardeners&quot; (Users who had Gardens), and &quot;Vendors&quot; (Users who sell Seeds). So, a User wasn&#x27;t necessarily a Gardener.</p><p>We discovered that the explicit representation of Vendors and their associated Seeds created too much complexity.  The current version of the system eliminates the representation of Vendors and Seeds, which means every User is a Gardener and vice versa. At some point in the future, we might combine these two entities.</p></div></div>
<p>Here is an example of a Gardener document:</p>
<img src="/img/develop/firestore/firestore-console-gardeners.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gardener-entity-representation">Gardener entity representation<a href="#gardener-entity-representation" class="hash-link" aria-label="Direct link to Gardener entity representation" title="Direct link to Gardener entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Gardener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenerID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> cachedCropIDs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> cachedVarietyIDs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> country</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> postalCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> attestations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bool isVendor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>gardenerID</td><td>required</td><td><code>String</code></td><td>(Primary key) The email address used to register with the system. (Same as the User&#x27;s userID.) For example, <code>&quot;johnson@hawaii.edu&quot;</code>. This cannot be changed.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The ID of their chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>country</td><td>required</td><td><code>String</code></td><td>The gardener&#x27;s country. Used for creating Garden IDs.</td></tr><tr><td>postalCode</td><td>required</td><td><code>String</code></td><td>The gardener&#x27;s postalCode. Used for creating Garden IDs.</td></tr><tr><td>attestations</td><td>optional</td><td><code>List&lt;String&gt;?</code></td><td>A list of &quot;attestations&quot; that the Gardener declares to be true about themselves. For example, <code>[&quot;permacultureWorkshop&quot;]</code>.</td></tr><tr><td>cachedCropIDs</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A (possibly empty) list of all the Crops planted by this Gardener across all the Gardens that they own. For example, <code>[&quot;crop-US-003-326-0812&quot;]</code>.</td></tr><tr><td>cachedVarietyIDs</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A (possibly empty) list of all the Varieties planted by this Gardener across all the Gardens that they own. For example, <code>[&quot;variety-US-003-790-0364&quot;]</code>.</td></tr><tr><td>createdAt</td><td>required</td><td><code>DateTime?</code></td><td>A timestamp indicating when this Gardener came into existence.</td></tr><tr><td>isVendor</td><td>vestigial</td><td></td><td></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Why do some field names start with &quot;cached&quot;?</div><div class="admonitionContent_BuS1"><p>The Gardener Index screen provides information about all Gardeners in the current Chapter. Cached crop and variety fields provide a way to indicate the Crops and Varieties grown by each Gardener without having to download and process all the Plantings in the Chapter. Remember: there could be tens (or even hundreds) of thousands of Plantings in a large Chapter.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="garden">Garden<a href="#garden" class="hash-link" aria-label="Direct link to Garden" title="Direct link to Garden">​</a></h2>
<p>The Garden entity represents a plot of land (or maybe even just some pots) that can hold Plantings over one or more years.</p>
<p>Here is an example of a Garden document:</p>
<img src="/img/develop/firestore/firestore-console-gardens.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="garden-entity-representation">Garden entity representation<a href="#garden-entity-representation" class="hash-link" aria-label="Direct link to Garden entity representation" title="Direct link to Garden entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Garden</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> ownerID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> cachedCropIDs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> cachedVarietyIDs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">int</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> cachedYears</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required int cachedNumPlantings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> attestations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> pictureURL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> plotPlanURL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">CropQuantityMap</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedCropQuantityMap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">int</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedRetailValue</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bool isVendor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> lastUpdate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>gardenID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this garden. Format: <code>garden-&lt;country&gt;-&lt;postalCode&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;garden-US-98225-101-0493&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>Garden name. Should be unique within the Chapter. For example, <code>&quot;Alderwood&quot;</code>.</td></tr><tr><td>ownerID</td><td>required</td><td><code>String</code></td><td>The gardenerID (which is also the userID). For example, <code>&quot;johnson@hawaii.edu&quot;</code>.</td></tr><tr><td>attestations</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A (possibly empty) list of attestations provided by the gardener about this garden. For example, <code>[&quot;pesticideFree&quot;]</code>.</td></tr><tr><td>pictureURL</td><td>optional</td><td><code>String?</code></td><td>The URL to a Cloud Storage file providing a picture of this Garden. See <a href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a> for details.</td></tr><tr><td>plotPlanURL</td><td>optional</td><td><code>String?</code></td><td>The URL to a Cloud Storage file providing a picture of this garden&#x27;s plot plan. See <a href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a> for details.</td></tr><tr><td>createdAt</td><td>required</td><td><code>DateTime?</code></td><td>A timestamp indicating when this Garden came into existence.</td></tr><tr><td>lastUpdate</td><td>required</td><td><code>DateTime?</code></td><td>A timestamp indicating when this Garden was last updated.</td></tr><tr><td>cachedCropIDs</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A (possibly empty) list of all the Crops planted in this Garden. For example, <code>[&quot;crop-US-003-326-0812&quot;]</code>.</td></tr><tr><td>cachedVarietyIDs</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A (possibly empty) list of all the Varieties planted in this Garden. For example, <code>[&quot;variety-US-003-790-0364&quot;]</code>.</td></tr><tr><td>cachedYears</td><td>required</td><td><code>List&lt;int&gt;</code></td><td>A (possibly empty) list of the years where there is a Planting startDate in this Garden. For example, <code>[2024, 2025]</code>.</td></tr><tr><td>cachedNumPlantings</td><td>required</td><td><code>int</code></td><td>The number of Plantings associated with this Garden. For example, <code>231</code>.</td></tr><tr><td>cachedCropQuantityMap</td><td>optional</td><td><code>CropQuantityMap</code></td><td>A map that indicates, for each year, the quantity of each Crop harvested in this Garden. This data is combined with Price data to compute the Retail Value associated with this Garden. See the <a href="/docs/develop/design/retail-value">Retail Value</a> design document for details. For example, <code>{cropMap: {2024: {crop-US-003-326-0812: 15000}}</code>.</td></tr><tr><td>isVendor</td><td>vestigial</td><td></td><td></td></tr><tr><td>cachedRetailValue</td><td>vestigial</td><td></td><td></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>GardenID postalCodes</div><div class="admonitionContent_BuS1"><p>The GardenID embeds the country code and postal code associated with the ownerID. Note that this might not be the same postal code as the one associated with the physical location of the garden!  Instead, this is the postalCode associated with the &quot;home address&quot; of the Gardener.</p><p>Furthermore, a Gardener might be &quot;migrated&quot; to another chapter entirely. When this happens, we do not rewrite all of the IDs previously created for entities associated with that Gardener.  In this case, the postal code embedded in the gardenID will have no relationship to the actual location.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="editor">Editor<a href="#editor" class="hash-link" aria-label="Direct link to Editor" title="Direct link to Editor">​</a></h2>
<p>The owner of a Garden can add other Chapter members as &quot;editors&quot;, which enables those users to edit the Plantings and other information associated with a Garden.</p>
<p>There are some things Editors cannot do. For example, they cannot delete the garden. Only the owner can do that.</p>
<p>A user earns badges only from the Gardens that they own. Being an Editor on a Garden does not help a user to earn badges.</p>
<p>When displaying the Crops and Varieties associated with a Gardener, only those Crops and Varieties for the Gardens that the gardener owns are displayed.  The Crops and Varieties for Gardens for which you are an Editor are not included.</p>
<p>Here is an example of an Editor document:</p>
<img src="/img/develop/firestore/firestore-console-editors.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="editor-entity-representation">Editor entity representation<a href="#editor-entity-representation" class="hash-link" aria-label="Direct link to Editor entity representation" title="Direct link to Editor entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Editor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">required </span><span class="token class-name">String</span><span class="token plain"> editorID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenerID</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>editorID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this editor. Format: <code>editor-&lt;country&gt;-&lt;postalCode&gt;-&lt;gardenNum&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;editor-US-98225-105-101-0493&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>gardenID</td><td>required</td><td><code>String</code></td><td>The associated garden. For example, <code>&quot;garden-US-98225-105-0682&quot;</code>.</td></tr><tr><td>gardenerID</td><td>required</td><td><code>String</code></td><td>An editor of the garden associated with gardenID. For example, <code>&quot;johnson@hawaii.edu&quot;</code>.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bed">Bed<a href="#bed" class="hash-link" aria-label="Direct link to Bed" title="Direct link to Bed">​</a></h2>
<p>Each Garden consists of one or more Beds. To create a new Garden, at least one Bed must be defined. An owner can edit the name of an existing Bed, and can add a new Bed to a Garden, but cannot delete a Bed if there are any Plantings associated with it.</p>
<p>Here is an example of a Bed document:</p>
<img src="/img/develop/firestore/firestore-console-beds.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bed-entity-representation">Bed entity representation<a href="#bed-entity-representation" class="hash-link" aria-label="Direct link to Bed entity representation" title="Direct link to Bed entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Bed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">required </span><span class="token class-name">String</span><span class="token plain"> bedID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;bed-US-98225-101-001-5634&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;chapter-US-001&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;garden-US-98225-101-6789&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;02&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> gardenerID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// The owner of the garden, i.e. &#x27;johnson@hawaii.edu&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>bedID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this bed. Format: <code>bed-&lt;country&gt;-&lt;postalCode&gt;-&lt;gardenNum&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;bed-US-98225-101-001-5634&quot;</code>. Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>gardenID</td><td>required</td><td><code>String</code></td><td>The associated garden. For example, <code>&quot;garden-US-98225-105-0682&quot;</code>.</td></tr><tr><td>gardenerID</td><td>required</td><td><code>String</code></td><td>The owner of the garden associated with gardenID. For example, <code>&quot;johnson@hawaii.edu&quot;</code>.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>The name of the bed. For example, <code>&quot;01&quot;</code>. Must be unique within this Garden.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="family">Family<a href="#family" class="hash-link" aria-label="Direct link to Family" title="Direct link to Family">​</a></h2>
<p>The Family entity specifies the botanical family associated with one or more Crops (and implicitly, Varieties). For example, the &quot;Nightshade&quot; family groups together Tomatoes, Potatoes, and Peppers. Each Crop is associated with exactly one Family.</p>
<p>Family data is useful in order to support garden management activities like crop rotation and companion planting.</p>
<p>The Family entity is a &quot;global&quot; collection in GGC. In other words, it does not include a ChapterID; every Chapter will download this collection, and it is managed by administrators.</p>
<p>Here is an example of a Family document:</p>
<img src="/img/develop/firestore/firestore-console-families.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="family-entity-representation">Family entity representation<a href="#family-entity-representation" class="hash-link" aria-label="Direct link to Family entity representation" title="Direct link to Family entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Family</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">required </span><span class="token class-name">String</span><span class="token plain"> familyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> formal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> common</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> examples</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>familyID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this family. Format: <code>family-&lt;NNN&gt;</code>. For example, <code>&quot;family-001&quot;</code>. Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>formal</td><td>required</td><td><code>String</code></td><td>The formal name. For example, <code>&quot;Amaryllidaceae&quot;</code>.</td></tr><tr><td>common</td><td>required</td><td><code>String</code></td><td>The common name. For example, <code>&quot;Allium&quot;</code>.</td></tr><tr><td>examples</td><td>required</td><td><code>String</code></td><td>Some members of this family. For example, <code>&quot;onion, garlic, leek, shallot&quot;</code>.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="crop">Crop<a href="#crop" class="hash-link" aria-label="Direct link to Crop" title="Direct link to Crop">​</a></h2>
<p>The Crop entity specifies a type of plant independent of its Variety. For example, &quot;Tomato&quot; is a Crop, while &quot;Big Boy Tomato&quot; is a specific Variety of Tomato.</p>
<p>Each Crop is associated with exactly one Family entity.  A Crop can be associated with many Varieties.</p>
<p>Crop instances can be defined by any User, and are global across all chapters.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Pros and cons of global crops</div><div class="admonitionContent_BuS1"><p>Global crops make new chapter startup way easier, since each Chapter has access to all the Crops defined by all other Chapters. It also means that the overhead of Crop definition is distributed across all chapters.</p><p>The downside is &quot;noise&quot;: there can be many Crops that might never be grown in a Chapter. This goes against the &quot;hyper-local&quot; philosophy of GGC.</p></div></div>
<p>Here is an example of a Crop document:</p>
<img src="/img/develop/firestore/firestore-console-crops.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="crop-entity-representation">Crop entity representation<a href="#crop-entity-representation" class="hash-link" aria-label="Direct link to Crop entity representation" title="Direct link to Crop entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Crop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> familyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> chapterNameMap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>cropID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this crop. Format: <code>crop-&lt;country&gt;-&lt;chapterCode&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;crop-US-001-201-5634&quot;</code>. Although crops are global, cropIDs currently embed the defining user&#x27;s country code and chapterCode in order to avoid duplicate ID strings if multiple users define a new crop at the same time. Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>familyID</td><td>required</td><td><code>String</code></td><td>The associated family. For example, <code>&quot;family-001&quot;</code>.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>The name of the crop. For example, <code>&quot;Amaranth&quot;</code>. Must be unique across all Crops.</td></tr><tr><td>chapterNameMap</td><td>optional</td><td><code>Map&lt;String, String&gt;?</code></td><td>A mapping from a chapterID to a chapter-local name for this crop. For example, the crop Breadfruit has a chapter-local name of &quot;&#x27;Ulu&quot; in Hawaii chapters.</td></tr><tr><td>createdAt</td><td>required</td><td><code>DateTime?</code></td><td>A timestamp indicating when this Crop came into existence.</td></tr><tr><td>chapterID</td><td>vestigial</td><td><code>String</code></td><td></td></tr><tr><td>maxQuantity</td><td>vestigial</td><td><code>int</code></td><td></td></tr><tr><td>quantityUnit</td><td>vestigial</td><td><code>String</code></td><td></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variety">Variety<a href="#variety" class="hash-link" aria-label="Direct link to Variety" title="Direct link to Variety">​</a></h2>
<p>Variety is a specific kind of Crop which can actually be grown, i.e. there exists seeds for it. For example, a seed packet such as &quot;Tomato (Sun Gold)&quot; specifies the crop (&quot;Tomato&quot;) and the Variety (&quot;Sun Gold&quot;).</p>
<p>Every Crop is initially defined with a Variety named &quot;Unknown&quot;.  The Unknown Variety is used to represent two situations:</p>
<ol>
<li>A gardener is planning a garden, and they know they want to plant a certain Crop, but haven&#x27;t picked the Variety yet. In this case, they can create a Planting with a Crop&#x27;s &quot;Unknown&quot; Variety, which is intended to mean &quot;to be determined&quot;. In this case, the Gardener will normally update the Planting with the actual Variety at a later time once they decide what Variety to plant.</li>
<li>A gardener plants some seeds, and knows the Crop but not the Variety. In this case, a Planting with the Crop&#x27;s &quot;Unknown&quot; Variety means literally &quot;unknown&quot;, and the Gardener would not normally update the Planting&#x27;s Variety later on.</li>
</ol>
<p>Variety instances can be defined by any User, and are global across all chapters.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Pros and cons of global varieties</div><div class="admonitionContent_BuS1"><p>Global varieties make new chapter startup way easier, since each Chapter has access to all the Varieties defined by all other Chapters. It also means that the overhead of Variety definition is distributed across all chapters.</p><p>The downside is &quot;noise&quot;: there can be many Varieties that might never be grown in a Chapter. This goes against the &quot;hyper-local&quot; philosophy of GGC.</p></div></div>
<p>Here is an example of a Variety document:</p>
<img src="/img/develop/firestore/firestore-console-varieties.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="variety-entity-representation">Variety entity representation<a href="#variety-entity-representation" class="hash-link" aria-label="Direct link to Variety entity representation" title="Direct link to Variety entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Variety</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> varietyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedCropName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bool</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> isGold</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> isGoldV2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>varietyID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this variety. Format: <code>variety-&lt;country&gt;-&lt;chapterCode&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;variety-US-001-301-0498&quot;</code>. Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>cropID</td><td>required</td><td><code>String</code></td><td>The associated crop. For example, <code>&quot;crop-US-001-203-0497&quot;</code>.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>The name of the variety. For example, <code>&quot;Jersey Night&quot;</code>.</td></tr><tr><td>cachedCropName</td><td>required</td><td><code>String</code></td><td>The crop name. For example, <code>&quot;Asparagus&quot;</code>.</td></tr><tr><td>isGoldV2</td><td>optional</td><td><code>List&lt;String&gt;?</code></td><td>A list of the chapterIDs for which this variety has achieved Gold Status. For example, <code>&quot;[chapter-US-001, chapter-US-005]&quot;</code>.</td></tr><tr><td>createdAt</td><td>optional</td><td><code>DateTime?</code></td><td>A timestamp indicating when this Variety came into existence.</td></tr><tr><td>chapterID</td><td>vestigial</td><td></td><td></td></tr><tr><td>isGold</td><td>vestigial</td><td></td><td></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="planting">Planting<a href="#planting" class="hash-link" aria-label="Direct link to Planting" title="Direct link to Planting">​</a></h2>
<p>A Planting represents one or more plants of the same Variety, planted in a single Bed, all with the same approximate timings (i.e. sow date, transplant date, first harvest date, etc.).</p>
<p>If the same Variety is planted in two different beds, then this must be represented by two Planting instances.</p>
<p>Here is an example of a Planting document:</p>
<img src="/img/develop/firestore/firestore-console-plantings.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="planting-entity-representation">Planting entity representation<a href="#planting-entity-representation" class="hash-link" aria-label="Direct link to Planting entity representation" title="Direct link to Planting entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Planting</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> plantingID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedCropName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> bedID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedBedName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> startDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> pullDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> notes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> varietyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedVarietyName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> outcomeID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> transplantDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> firstHarvestDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> endHarvestDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>plantingID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this planting. Format: <code>planting-&lt;country&gt;-&lt;postalCode&gt;-&lt;gardenNum&gt;-&lt;NNNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;planting-US-98225-101-1002-0509&quot;</code>. Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapterID. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>gardenID</td><td>required</td><td><code>String</code></td><td>The associated gardenID. For example, <code>&quot;cgarden-US-98225-101-0493&quot;</code>.</td></tr><tr><td>cropID</td><td>required</td><td><code>String</code></td><td>The associated crop. For example, <code>&quot;crop-US-001-203-0497&quot;</code>.</td></tr><tr><td>cachedCropName</td><td>required</td><td><code>String</code></td><td>The crop name. For example, <code>&quot;Asparagus&quot;</code>.</td></tr><tr><td>bedID</td><td>required</td><td><code>String</code></td><td>The associated bed. For example, <code>&quot;bed-US-98225-101-001-0495&quot;</code>.</td></tr><tr><td>cachedBedName</td><td>required</td><td><code>String</code></td><td>The bed name. For example, <code>&quot;01&quot;</code>.</td></tr><tr><td>varietyID</td><td>required</td><td><code>String</code></td><td>The associated variety. For example, <code>&quot;variety-US-001-435-0499&quot;</code>.</td></tr><tr><td>cachedVarietyName</td><td>required</td><td><code>String</code></td><td>The variety name. For example, <code>&quot;Unknown&quot;</code>.</td></tr><tr><td>startDate</td><td>required</td><td><code>DateTime</code></td><td>The day this planting was started (or planned to be started). For example, <code>&quot;2023-07-31T00:00:00.000&quot;</code>.</td></tr><tr><td>pullDate</td><td>required</td><td><code>DateTime</code></td><td>The day this planting was pulled (or planned to be pulled). For example, <code>&quot;2023-10-31T00:00:00.000&quot;</code>.</td></tr><tr><td>notes</td><td>optional</td><td><code>String?</code></td><td>Gardener supplied notes about this planting.</td></tr><tr><td>outcomeID</td><td>optional</td><td><code>String?</code></td><td>The outcomes associated with this planting, if any. For example, <code>&quot;outcome-US-98225-102-1001-3472&quot;</code>.</td></tr><tr><td>createdAt</td><td>optional</td><td><code>DateTime?</code></td><td>A timestamp indicating when this planting came into existence.</td></tr><tr><td>transplantDate</td><td>optional</td><td><code>DateTime?</code></td><td>A timestamp indicating if this planting was transplanted.</td></tr><tr><td>firstHarvestDate</td><td>optional</td><td><code>DateTime?</code></td><td>A timestamp indicating if there was a first harvest date.</td></tr><tr><td>endHarvestDate</td><td>optional</td><td><code>DateTime?</code></td><td>A timestamp indicating if harvest came to end (and the planting was left to seed).</td></tr><tr><td>gardenerID</td><td>vestigial</td><td></td><td></td></tr><tr><td>harvestSeedID</td><td>vestigial</td><td></td><td></td></tr><tr><td>isVendor</td><td>vestigial</td><td></td><td></td></tr><tr><td>seedsAvailable</td><td>vestigial</td><td></td><td></td></tr><tr><td>sowSeedID</td><td>vestigial</td><td></td><td></td></tr><tr><td>usedGreenhouse</td><td>vestigial</td><td></td><td></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="outcome">Outcome<a href="#outcome" class="hash-link" aria-label="Direct link to Outcome" title="Direct link to Outcome">​</a></h2>
<p>Outcome data is gardener-supplied information about the result of a single Planting.  We want to specify planting results in a way that:</p>
<ul>
<li>Is useful and actionable for gardeners,</li>
<li>Captures important properties of a planting,</li>
<li>Is relatively easy to provide,</li>
<li>Is interpreted in a relatively consistent manner by different gardeners,</li>
</ul>
<p>To support these requirements, we define five outcome types: germination, yield, flavor, pest and disease resistance, and appearance. Each planting can receive a &quot;grade&quot; for each of these outcome types on a five point scale.  The following table presents the definitions for each scale value for each outcome type.</p>
<table><thead><tr><th></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead><tbody><tr><td><strong>Germination</strong></td><td><strong>None.</strong> No germination.</td><td><strong>Poor.</strong> ~25% germination.</td><td><strong>OK.</strong> ~50% germination.</td><td><strong>Good.</strong> ~75% germination.</td><td><strong>Excellent.</strong> &gt;90% germination..</td></tr><tr><td><strong>Yield</strong></td><td><strong>None.</strong> Died and/or no food</td><td><strong>Poor.</strong> Less food than expected</td><td><strong>OK.</strong> Expected amount of food</td><td><strong>Good.</strong> More food than expected</td><td><strong>Excellent.</strong> Way more food than expected</td></tr><tr><td><strong>Flavor</strong></td><td><strong>Bad.</strong> Unappealing flavor</td><td><strong>Poor.</strong> Bland flavor</td><td><strong>OK.</strong> Expected flavor.</td><td><strong>Good.</strong> Enjoyable flavor</td><td><strong>Excellent.</strong> Awesome flavor.</td></tr><tr><td><strong>Pest and disease resistance</strong></td><td><strong>Very poor.</strong> &gt;90% damaged</td><td><strong>Poor.</strong> ~50% damaged</td><td><strong>OK.</strong> &lt; 25% damaged</td><td><strong>Good.</strong> Very few damaged</td><td><strong>Excellent.</strong> No damage.</td></tr><tr><td><strong>Appearance</strong></td><td><strong>Very poor.</strong> &gt;90% ugly</td><td><strong>Poor.</strong> ~60% ugly</td><td><strong>OK.</strong> ~60% not ugly</td><td><strong>Good.</strong> ~60% beautiful</td><td><strong>Excellent.</strong> &gt;90% beautiful</td></tr></tbody></table>
<p>Any of these Outcome types can also have a value of &quot;0&quot;, which means there is no data regarding that type of outcome.</p>
<p>In addition to these five outcome types, there is another outcome called &quot;quantity&quot;. If supplied, quantity is an integer that represents the total weight of harvested food from the associated planting.</p>
<p>Each Outcome entity is associated with exactly one Planting entity.  (Note that the converse is not true: a Planting entity need not be associated with an Outcome entity, since the Gardener might not choose to record any Outcome data.)</p>
<p>Here is an example of an Outcome document:</p>
<img src="/img/develop/firestore/firestore-console-outcomes.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="outcome-entity-representation">Outcome entity representation<a href="#outcome-entity-representation" class="hash-link" aria-label="Direct link to Outcome entity representation" title="Direct link to Outcome entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Outcome</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">required </span><span class="token class-name">String</span><span class="token plain"> outcomeID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> plantingID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedCropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedVarietyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> int germination</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> int yieldd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> int flavor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> int resistance</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> int appearance</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> quantity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>outcomeID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this outcome. Format: <code>outcome-&lt;country&gt;-&lt;postalCode&gt;-&lt;gardenNum&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;outcome-US-10003-101-1001-0308&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>gardenID</td><td>required</td><td><code>String</code></td><td>The associated garden. For example, <code>&quot;garden-US-10003-101-0975&quot;</code>.</td></tr><tr><td>plantingID</td><td>required</td><td><code>String</code></td><td>The associated planting. For example, <code>&quot;planting-US-10003-101-1001-0972&quot;</code>.</td></tr><tr><td>cachedCropID</td><td>required</td><td><code>String</code></td><td>The associated crop. For example, <code>&quot;crop-US-001-208-0497&quot;</code>.</td></tr><tr><td>cachedVarietyID</td><td>required</td><td><code>String</code></td><td>The associated variety. For example, <code>&quot;variety-US-001-641-0401&quot;</code>.</td></tr><tr><td>germination</td><td>required</td><td><code>int</code></td><td>0-5</td></tr><tr><td>yieldd</td><td>required</td><td><code>int</code></td><td>0-5    (&quot;yield&quot; is a reserved word and cannot be used as a field name, so we use &quot;yieldd&quot;).</td></tr><tr><td>flavor</td><td>required</td><td><code>int</code></td><td>0-5</td></tr><tr><td>resistance</td><td>required</td><td><code>int</code></td><td>0-5</td></tr><tr><td>appearance</td><td>required</td><td><code>int</code></td><td>0-5</td></tr><tr><td>quantity</td><td>optional</td><td><code>int</code></td><td>A number indicating the weight of the food harvested from this planting. The integer represents a weight with two decimal places, so 400 represents a weight of 4.00, 25 represents 0.25, and forth.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="observation">Observation<a href="#observation" class="hash-link" aria-label="Direct link to Observation" title="Direct link to Observation">​</a></h2>
<p>An Observation is a comment (and, typically, a picture) provided by a Gardener regarding a Garden, Bed, Crop, Variety, or Planting.</p>
<p>The observationType field indicates the type of Observation (Garden, Bed, Crop, Variety, or Planting).  There are a number of optional fields that have values depending upon the type of Observation. So, for example, a Garden Observation will not have a bedID, cropID, varietyID, or plantingID associated with it, while a Planting Observation will have all of those entities associated with it.</p>
<p>Here is an example of an Observation document:</p>
<img src="/img/develop/firestore/firestore-console-observations.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="observation-entity-representation">Observation entity representation<a href="#observation-entity-representation" class="hash-link" aria-label="Direct link to Observation entity representation" title="Direct link to Observation entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Observation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> observationID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenerID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedGardenName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> observationDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> lastUpdate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> tagIDs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">ObservationComment</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> comments</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> observationType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> plantingID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> bedID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> varietyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> pictureURL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedCropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedVarietyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedBedName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedCropName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedVarietyName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cachedStartDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bool isPrivate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> createdAt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>observationID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this outcome. Format: <code>observation-&lt;country&gt;-&lt;postalCode&gt;-&lt;gardenNum&gt;-&lt;NNNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;outcome-US-10003-101-1001-0308&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>gardenID</td><td>required</td><td><code>String</code></td><td>The associated garden. For example, <code>&quot;garden-US-10003-101-0975&quot;</code>.</td></tr><tr><td>cachedGardenName</td><td>required</td><td><code>String</code></td><td>The associated garden name. For example, <code>&quot;Alderwood&quot;</code>.</td></tr><tr><td>gardenerID</td><td>required</td><td><code>String</code></td><td>The associated gardener. For example, <code>&quot;johnson@hawaii.edu&quot;</code>.</td></tr><tr><td>observationDate</td><td>required</td><td><code>DateTime</code></td><td>The date to be associated with this observation. (May be in the past.) For example, <code>&quot;2025-06-24T18:16:17.357180&quot;</code>.</td></tr><tr><td>createdAt</td><td>required</td><td><code>DateTime</code></td><td>When this observation document was created. For example, <code>&quot;2025-06-24T18:16:17.357180&quot;</code>.</td></tr><tr><td>lastUpdate</td><td>required</td><td><code>DateTime</code></td><td>When the observation was last edited. For example, <code>&quot;2025-06-24T18:16:17.357180&quot;</code>.</td></tr><tr><td>tagIDs</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>A potentially empty list of tagIDs. For example, <code>[&quot;tag-001-501&quot;]</code>.</td></tr><tr><td>comments</td><td>required</td><td><code>List&lt;ObservationComment&gt;</code></td><td>A potentially empty list of comments.</td></tr><tr><td>description</td><td>required</td><td><code>String</code></td><td>The observation description.</td></tr><tr><td>isPrivate</td><td>required</td><td><code>bool</code></td><td>If only the owner and editors of this garden can see this Observation.</td></tr><tr><td>observationType</td><td>required</td><td><code>String</code></td><td>The type of Observation: <code>&quot;garden&quot;</code>, <code>&quot;crop&quot;</code>, <code>&quot;variety&quot;</code>, <code>&quot;planting&quot;</code>.</td></tr><tr><td>pictureURL</td><td>optional</td><td><code>String?</code></td><td>The URL to a Cloud Storage file providing a picture for this observation. See <a href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a> for details.</td></tr><tr><td>plantingID</td><td>optional</td><td><code>String?</code></td><td>The associated planting, if this is a planting observation.</td></tr><tr><td>bedID</td><td>optional</td><td><code>String?</code></td><td>The associated bed, if this is a planting observation.</td></tr><tr><td>cropID</td><td>optional</td><td><code>String?</code></td><td>The associated crop, if this is a planting or variety or crop observation.</td></tr><tr><td>varietyID</td><td>optional</td><td><code>String?</code></td><td>The associated variety, if this is a planting or variety observation.</td></tr><tr><td>cachedCropName</td><td>optional</td><td><code>String?</code></td><td>The associated crop name, if there&#x27;s a cropID.</td></tr><tr><td>cachedVarietyName</td><td>optional</td><td><code>String?</code></td><td>The associated variety name, if there&#x27;s a varietyID.</td></tr><tr><td>cachedVarietyName</td><td>optional</td><td><code>String?</code></td><td>The associated variety name, if there&#x27;s a varietyID.</td></tr><tr><td>cachedStartDate</td><td>optional</td><td><code>DateTime?</code></td><td>The associated start time, if this is a planting observation.</td></tr><tr><td>cachedCropID</td><td>vestigial</td><td></td><td></td></tr><tr><td>cachedVarietyID</td><td>vestigial</td><td></td><td></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="observation-comments">Observation Comments<a href="#observation-comments" class="hash-link" aria-label="Direct link to Observation Comments" title="Direct link to Observation Comments">​</a></h3>
<p>As shown above, each Observation entity includes an embedded (potentially empty) list of ObservationComments, which have this structure:</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">ObservationComment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">required </span><span class="token class-name">String</span><span class="token plain"> observationCommentID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;observationcomment-US-98225-102-4001-001-4532&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenerID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;johnson@hawaii.edu&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;Is that an aphid on the left leaf?&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> lastUpdate</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;2023-03-19T12:19:14.164090&#x27;          </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>The lastUpdate field indicates when the comment was made or updated.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tag">Tag<a href="#tag" class="hash-link" aria-label="Direct link to Tag" title="Direct link to Tag">​</a></h2>
<p>The Tag entity provides &quot;meta-data&quot; that a gardener can use to provide information about the nature of an Observation.  Tags serve two basic purposes:</p>
<ol>
<li>
<p>Filtering. A user can specify a set of Tags and filter the Observations by those that satisfy either (both?) of them.</p>
</li>
<li>
<p>Badge achievement. Many Badges are earned, at least in part, by posting (public) Observations with specific Tags.</p>
</li>
</ol>
<p>Tags are currently global entities that are defined and managed by admins. In the future, we plan to support chapter-local, user-defined tags.</p>
<p>Here is an example of a Tag document:</p>
<img src="/img/develop/firestore/firestore-console-tags.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tag-entity-representation">Tag entity representation<a href="#tag-entity-representation" class="hash-link" aria-label="Direct link to Tag entity representation" title="Direct link to Tag entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Tag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> tagID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tagID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this tag. Format: <code>tag-&lt;NNN&gt;</code>. For example, <code>&quot;tag-001&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>The name of this tag. By convention, starts with a &quot;#&quot;. For example, <code>&quot;#Biodiversity&quot;</code>.</td></tr><tr><td>description</td><td>required</td><td><code>String</code></td><td>A string indicating when the use of this tag is appropriate.</td></tr><tr><td>chapterID</td><td>optional</td><td><code>String?</code></td><td>Awaiting chapter-local tags.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="task">Task<a href="#task" class="hash-link" aria-label="Direct link to Task" title="Direct link to Task">​</a></h2>
<p>A Task specifies an activity to perform for a specific Planting in a specific Garden. There are two types of tasks:</p>
<ol>
<li>
<p>An <em>automatically created</em> Task that is generated from the dates associated with a Planting, such as <code>transplant date</code> or <code>first harvest date</code>. Whenever the Gardener adjusts the dates associated with a Planting, the associated Task is updated. Conversely, if a Gardener adjusts the date associated with a Task, then the associated Planting date is updated as well.</p>
</li>
<li>
<p>A <em>manually created</em> Task that is created by a gardener, such as <code>Weed cucumbers</code> or <code>Add top dressing to radishes</code>.</p>
</li>
</ol>
<p>Tasks are ephemeral.  When a Gardener indicates that a task has been completed, it is deleted from the system. For automatically created Tasks that are associated with a Planting date, the system prompts the gardener to verify the completion date prior to deleting the Task.  This prompt is used to update the date in the Planting instance.  This is an important form of &quot;quality assurance&quot; for Planting dates, since the Gardener typically specifies these dates early in the season during planning. The ability of Tasks to help ensure that Planting dates are accurate can make Chapter data more useful.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Task enhancements</div><div class="admonitionContent_BuS1"><p>There are two enhancements to Tasks that we hope to implement in the future:</p><ol>
<li>Non-ephemeral tasks. This would allow a Gardener to re-use manually created tasks in the future.</li>
<li>Non-planting tasks. This would allow a Gardener to associate tasks with Beds, Crops, Gardens, etc.</li>
</ol></div></div>
<p>Here is an example of a Task document:</p>
<img src="/img/develop/firestore/firestore-console-tasks.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-entity-representation">Task entity representation<a href="#task-entity-representation" class="hash-link" aria-label="Direct link to Task entity representation" title="Direct link to Task entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> taskID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> gardenID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> taskType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> cropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> varietyID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> bedID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> plantingID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> dueDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedBedName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedCropName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedVarietyName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> gardenerID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>taskID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this task. Format: <code>task-&lt;country&gt;-&lt;postalCode&gt;-&lt;gardenNum&gt;-&lt;plantingNum&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;task-US-10003-101-1001-002-0283&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter.</td></tr><tr><td>gardenID</td><td>required</td><td><code>String</code></td><td>The associated garden.</td></tr><tr><td>taskType</td><td>required</td><td><code>String</code></td><td>One of:  <code>&quot;start&quot;</code>, <code>&quot;transplant&quot;</code>, <code>&quot;firstHarvest&quot;</code>, <code>&quot;endHarvest&quot;</code>, <code>&quot;pull&quot;</code>, <code>&quot;other&quot;</code>.    Other indicates a manually created task.</td></tr><tr><td>title</td><td>required</td><td><code>String</code></td><td>For automatically generated tasks, the title is automatically generated using the task type plus the variety, for example <code>&quot;Start Tomato (Big Boy)&quot;</code>.</td></tr><tr><td>gardenerID</td><td>required</td><td><code>String</code></td><td>The gardenerID.</td></tr><tr><td>plantingID</td><td>required</td><td><code>String</code></td><td>The plantingID.</td></tr><tr><td>cropID</td><td>required</td><td><code>String</code></td><td>The cropID.</td></tr><tr><td>varietyID</td><td>required</td><td><code>String</code></td><td>The varietyID.</td></tr><tr><td>bedID</td><td>required</td><td><code>String</code></td><td>The bedID.</td></tr><tr><td>cachedCropName</td><td>required</td><td><code>String</code></td><td>The crop name.</td></tr><tr><td>cachedVarietyName</td><td>required</td><td><code>String</code></td><td>The variety name.</td></tr><tr><td>cachedBedName</td><td>required</td><td><code>String</code></td><td>The bed name.</td></tr><tr><td>dueDate</td><td>required</td><td><code>DateTime</code></td><td>When this task is due.</td></tr><tr><td>description</td><td>optional</td><td><code>String?</code></td><td>For manually created tasks, the description.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="price">Price<a href="#price" class="hash-link" aria-label="Direct link to Price" title="Direct link to Price">​</a></h2>
<p>The Price entity is used to implement the <a href="/docs/develop/design/retail-value">Retail Value</a> feature.</p>
<p>Here is an example of a Price document:</p>
<img src="/img/develop/firestore/firestore-console-prices.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="price-entity-representation">Price entity representation<a href="#price-entity-representation" class="hash-link" aria-label="Direct link to Price entity representation" title="Direct link to Price entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Price</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> priceID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">CountryCode</span><span class="token plain"> countryCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required int year</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cropID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedCropName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required int price</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required bool priceless</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>priceID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this price. Format: <code>price-&lt;country&gt;-&lt;year&gt;-&lt;priceType&gt;-&lt;cropID&gt;-&lt;millis&gt;</code>. For example, <code>&quot;price-US-2014-default-crop-US-001-300-0907&quot;</code>.  PriceType is either &quot;default&quot; or the chapterID (if it&#x27;s a chapter-local price).  Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>countryCode</td><td>required</td><td><code>String</code></td><td>The associated country code.</td></tr><tr><td>year</td><td>required</td><td><code>int</code></td><td>The associated year.</td></tr><tr><td>cropID</td><td>required</td><td><code>String</code></td><td>The associated cropID.</td></tr><tr><td>cachedCropName</td><td>required</td><td><code>String</code></td><td>The associated cropName (chapter-local if different).</td></tr><tr><td>price</td><td>required</td><td><code>int</code></td><td>The price, formatted as an int with two implied decimal places. For example, 400 represents a price of 4.00.</td></tr><tr><td>priceless</td><td>required</td><td><code>bool</code></td><td>Indicates if this crop is priceless.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapterID, if this is a chapter-local price.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="forum">Forum<a href="#forum" class="hash-link" aria-label="Direct link to Forum" title="Direct link to Forum">​</a></h2>
<p>The Forum feature is implemented through two collections: forum_topics and forum_messages.</p>
<p>Here is an example of a forum_topic document:</p>
<img src="/img/develop/firestore/firestore-console-forum-topics.png">
<p>And here is an example of a forum_message document:</p>
<img src="/img/develop/firestore/firestore-console-forum-messages.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forum-topic-entity-representation">Forum Topic entity representation<a href="#forum-topic-entity-representation" class="hash-link" aria-label="Direct link to Forum Topic entity representation" title="Direct link to Forum Topic entity representation">​</a></h3>
<p>These entities are used to populate the &quot;Forums&quot; screen, which lists all the topics.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">ForumTopic</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> forumTopicID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> createdBy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> lastUpdated</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required int numberOfViews</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>forumTopicID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this forum topic. Format: <code>forumtopic-&lt;country&gt;-&lt;chapterNum&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;forumtopic-US-001-001-0128&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter.     For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>type</td><td>required</td><td><code>String</code></td><td>The forum type.  For example, <code>&quot;Other&quot;</code>.</td></tr><tr><td>title</td><td>required</td><td><code>String</code></td><td>The forum title.</td></tr><tr><td>createdBy</td><td>required</td><td><code>String</code></td><td>The associated userID.</td></tr><tr><td>createdAt</td><td>required</td><td><code>DateTime</code></td><td>When this post was created.</td></tr><tr><td>updatedAt</td><td>required</td><td><code>DateTime</code></td><td>When this post was last updated.</td></tr><tr><td>numberOfViews</td><td>required</td><td><code>int</code></td><td>How many times anyone has clicked on this topic to display the thread.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forum-message-entity-representation">Forum Message entity representation<a href="#forum-message-entity-representation" class="hash-link" aria-label="Direct link to Forum Message entity representation" title="Direct link to Forum Message entity representation">​</a></h3>
<p>These entities are used to populate the screen associated with a single forum topic.</p>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">ForumMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> forumMessageID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> forumTopicID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> content</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> createdBy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> lastUpdated</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required int numberOfLikes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token metadata function" style="color:#d73a49">@Default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bool isTopicMessage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> pictureURL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>forumMessageID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this forum message. Format: <code>forummessage-&lt;country&gt;-&lt;chapterNum&gt;-&lt;NNN&gt;-&lt;millis&gt;</code>. For example, <code>&quot;forummessage-US-003-002-0848&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter. For example, <code>&quot;chapter-US-001&quot;</code>.</td></tr><tr><td>forumTopicID</td><td>required</td><td><code>String</code></td><td>The associated forum topic. For example,  <code>&quot;forumtopic-US-001-001-0128&quot;</code>.</td></tr><tr><td>content</td><td>required</td><td><code>String</code></td><td>The content of the message.</td></tr><tr><td>createdBy</td><td>required</td><td><code>String</code></td><td>The associated userID.</td></tr><tr><td>createdAt</td><td>required</td><td><code>DateTime</code></td><td>When this message was created.</td></tr><tr><td>lastUpdated</td><td>required</td><td><code>DateTime</code></td><td>When this message was last updated.</td></tr><tr><td>numberOfLikes</td><td>required</td><td><code>int</code></td><td>(Not currently used. Might be vestigial.)</td></tr><tr><td>isTopicMessage</td><td>required</td><td><code>bool</code></td><td>Whether this message corresponds to the topic header.</td></tr><tr><td>pictureURL</td><td>optional</td><td><code>String?</code></td><td>The URL to a Cloud Storage file providing a picture to be associated with this message. See <a href="/docs/develop/data-model/cloud-storage-data-model">Cloud Storage Data Model</a> for details.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="badge">Badge<a href="#badge" class="hash-link" aria-label="Direct link to Badge" title="Direct link to Badge">​</a></h2>
<p>GGC provides a game mechanic called &quot;Badges&quot;. These are designations for Gardens, Gardeners, and (in future) Chapters that recognize the use of best practices for gardening (such as composting), or significant experience with a specific crop, or other behaviors that we wish to encourage.</p>
<p>The Badge game mechanic is implemented through two entities: &quot;Badge&quot; and &quot;BadgeInstance&quot;. The Badge entity is a global entity (i.e. independent of any Chapter and defined by the system), and defines the game mechanic.  The BadgeInstance entity represents the achievement of a Badge by a Garden, Gardener, or (in future) Chapter.</p>
<p>Here is an example of a Badge document:</p>
<img src="/img/develop/firestore/firestore-console-badges.png">
<p>Here is an example of a BadgeInstance document:</p>
<img src="/img/develop/firestore/firestore-console-badgeinstances.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="badge-entity-representation">Badge entity representation<a href="#badge-entity-representation" class="hash-link" aria-label="Direct link to Badge entity representation" title="Direct link to Badge entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Badge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">required </span><span class="token class-name">String</span><span class="token plain"> badgeID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> criteria</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> level1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> level2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> level3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> tagIDs</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>badgeID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this badge. Format: <code>badge-&lt;NNN&gt;</code>. For example, <code>&quot;badge-001&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>type</td><td>required</td><td><code>String</code></td><td>One of: <code>&quot;garden&quot;</code>, <code>&quot;gardener&quot;</code>.</td></tr><tr><td>name</td><td>required</td><td><code>String</code></td><td>The badge name. For example, <code>&quot;Climate Victory&quot;</code>.</td></tr><tr><td>criteria</td><td>required</td><td><code>String</code></td><td>Basic criteria for the badge.</td></tr><tr><td>level1</td><td>required</td><td><code>String</code></td><td>Specific criteria for a Level 1 badge.</td></tr><tr><td>level2</td><td>required</td><td><code>String</code></td><td>Specific criteria for a Level 2 badge.</td></tr><tr><td>level3</td><td>required</td><td><code>String</code></td><td>Specific criteria for a Level 3 badge.</td></tr><tr><td>tagIDs</td><td>required</td><td><code>List&lt;String&gt;</code></td><td>The tags that are associated with this badge.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="badgeinstance-entity-representation">BadgeInstance entity representation<a href="#badgeinstance-entity-representation" class="hash-link" aria-label="Direct link to BadgeInstance entity representation" title="Direct link to BadgeInstance entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">BadgeInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">required </span><span class="token class-name">String</span><span class="token plain"> badgeInstanceID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> badgeID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required int level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">              </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> cachedName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> data2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">String</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> data3</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">                     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>badgeInstanceID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this badgeInstance. Format: <code>badgeinstance-&lt;country&gt;-&lt;chapterCode&gt;-&lt;badgeinstanceNum&gt;-&lt;millis&gt;</code>. For example, <code>&quot;badge-001&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter.</td></tr><tr><td>badgeID</td><td>required</td><td><code>String</code></td><td>The associated badge.</td></tr><tr><td>level</td><td>required</td><td><code>int</code></td><td>The level achieved for this badge.</td></tr><tr><td>id</td><td>required</td><td><code>String</code></td><td>Either a gardenID or a gardenerID.</td></tr><tr><td>id</td><td>required</td><td><code>String</code></td><td>Either <code>&quot;garden&quot;</code> or <code>&quot;gardener&quot;</code></td></tr><tr><td>cachedName</td><td>required</td><td><code>String</code></td><td>The badge name.</td></tr><tr><td>data1</td><td>optional</td><td><code>String?</code></td><td>A slot for additional data about this badge instance.   (Should have been <code>Map&lt;String, String&gt;</code> rather than three fixed slots.)</td></tr><tr><td>data2</td><td>optional</td><td><code>String?</code></td><td>A slot for additional data about this badge instance.</td></tr><tr><td>data3</td><td>optional</td><td><code>String?</code></td><td>A slot for additional data about this badge instance.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="event">Event<a href="#event" class="hash-link" aria-label="Direct link to Event" title="Direct link to Event">​</a></h2>
<p>The Event entity is used to implement the <a href="/docs/develop/instrumentation">Instrumentation</a> feature.</p>
<p>Here is an example of an Event document:</p>
<img src="/img/develop/firestore/firestore-console-events.png">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-entity-representation">Event entity representation<a href="#event-entity-representation" class="hash-link" aria-label="Direct link to Event entity representation" title="Direct link to Event entity representation">​</a></h3>
<div class="language-dart codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dart codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">factory</span><span class="token plain"> </span><span class="token class-name">Event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> eventID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">EventType</span><span class="token plain"> eventType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> chapterID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">String</span><span class="token plain"> userID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">String</span><span class="token generics operator" style="color:#393A34">?</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  required </span><span class="token class-name">DateTime</span><span class="token plain"> createdAt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<table><thead><tr><th>Field</th><th>R/O/V</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>eventID</td><td>required</td><td><code>String</code></td><td>(Primary key) A unique ID for this event. Format: <code>event-&lt;country&gt;-&lt;chapterNum&gt;-&lt;userID&gt;-&lt;eventType&gt;-&lt;millis&gt;</code>. For example, <code>&quot;event-US-001-pjohnson@gmail.com-visitHomeScreen-0098&quot;</code>.   Please see the <a href="/docs/develop/design/ids">ID Design Pattern documentation</a> for more details.</td></tr><tr><td>eventType</td><td>required</td><td><code>String</code></td><td>One of over thirty event types. For example,  <code>&quot;visitHomeScreen&quot;</code>.</td></tr><tr><td>chapterID</td><td>required</td><td><code>String</code></td><td>The associated chapter.</td></tr><tr><td>userID</td><td>required</td><td><code>String</code></td><td>The associated userID.</td></tr><tr><td>createdAt</td><td>required</td><td><code>DateTime</code></td><td>The timestamp for when this event occurred.</td></tr><tr><td>data</td><td>optional</td><td><code>Map&lt;String, String&gt;?</code></td><td>Optional data for this event type.</td></tr></tbody></table></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/develop/architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/develop/data-model/cloud-storage-data-model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cloud Storage Data Model</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#required-vs-optional-vs-vestigial" class="table-of-contents__link toc-highlight">Required vs. Optional vs. Vestigial</a></li><li><a href="#in-memory-entities-and-collections" class="table-of-contents__link toc-highlight">In-memory entities and collections</a></li><li><a href="#country" class="table-of-contents__link toc-highlight">Country</a></li><li><a href="#chapter" class="table-of-contents__link toc-highlight">Chapter</a></li><li><a href="#user" class="table-of-contents__link toc-highlight">User</a></li><li><a href="#gardener" class="table-of-contents__link toc-highlight">Gardener</a></li><li><a href="#garden" class="table-of-contents__link toc-highlight">Garden</a></li><li><a href="#editor" class="table-of-contents__link toc-highlight">Editor</a></li><li><a href="#bed" class="table-of-contents__link toc-highlight">Bed</a></li><li><a href="#family" class="table-of-contents__link toc-highlight">Family</a></li><li><a href="#crop" class="table-of-contents__link toc-highlight">Crop</a></li><li><a href="#variety" class="table-of-contents__link toc-highlight">Variety</a></li><li><a href="#planting" class="table-of-contents__link toc-highlight">Planting</a></li><li><a href="#outcome" class="table-of-contents__link toc-highlight">Outcome</a></li><li><a href="#observation" class="table-of-contents__link toc-highlight">Observation</a></li><li><a href="#tag" class="table-of-contents__link toc-highlight">Tag</a></li><li><a href="#task" class="table-of-contents__link toc-highlight">Task</a></li><li><a href="#price" class="table-of-contents__link toc-highlight">Price</a></li><li><a href="#forum" class="table-of-contents__link toc-highlight">Forum</a></li><li><a href="#badge" class="table-of-contents__link toc-highlight">Badge</a></li><li><a href="#event" class="table-of-contents__link toc-highlight">Event</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/docs/user-guide/terms-and-conditions">Terms and Conditions</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/docs/user-guide/privacy">Privacy</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/docs/home/contact-us">Contact Us</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Geo Garden Club, LLC</div></div></div></footer></div>
</body>
</html>