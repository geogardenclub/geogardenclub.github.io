<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-develop/architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Architecture | Geo Garden Club</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://geogardenclub.com/img/logos/png/wordmark.png"><meta data-rh="true" name="twitter:image" content="https://geogardenclub.com/img/logos/png/wordmark.png"><meta data-rh="true" property="og:url" content="https://geogardenclub.com/docs/develop/architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="Garden planning app, Garden design software, Vegetable garden planner, Online garden planner, Backyard garden planner, Organic garden planning, Community garden planner, Sustainable gardening app, Community food resiliency, Local planting guide app, Smart garden planner, Vegetable garden design tool, Interactive garden planner, Garden journal and tracker, Small garden design app"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Architecture | Geo Garden Club"><meta data-rh="true" name="description" content="The GeoGardenClub app (GGC) conforms (almost all the time) to the architectural approach advocated by Andreas Bizzotto which he calls the &quot;Riverpod Architecture&quot;.  If you are not familiar with this approach, it&#x27;s worth spending a few minutes reading his article Flutter App Architecture with Riverpod: An Introduction."><meta data-rh="true" property="og:description" content="The GeoGardenClub app (GGC) conforms (almost all the time) to the architectural approach advocated by Andreas Bizzotto which he calls the &quot;Riverpod Architecture&quot;.  If you are not familiar with this approach, it&#x27;s worth spending a few minutes reading his article Flutter App Architecture with Riverpod: An Introduction."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://geogardenclub.com/docs/develop/architecture"><link data-rh="true" rel="alternate" href="https://geogardenclub.com/docs/develop/architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://geogardenclub.com/docs/develop/architecture" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="Geo Garden Club RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="Geo Garden Club Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WMYL9625P3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WMYL9625P3",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.83d9d443.css">
<script src="/assets/js/runtime~main.c5ffc415.js" defer="defer"></script>
<script src="/assets/js/main.d856eeba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#02695c;color:white" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><h3 style="margin-top: 15px"> &#128226; Release 2.20.0 now available.  Click <a target="_blank" rel="noopener noreferrer" href="/news/2025/05/10/release">here</a> for details.</h3></div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/png/icon2.png" alt="Geo Garden Club" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logos/png/icon2.png" alt="Geo Garden Club" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Geo Garden Club</b></a><a class="navbar__item navbar__link" href="/pricing">Pricing</a><a class="navbar__item navbar__link" href="/docs/home/welcome">About</a><a class="navbar__item navbar__link" href="/docs/user-guide/overview">User Guide</a><a class="navbar__item navbar__link" href="/news">News</a><a class="navbar__item navbar__link" href="/docs/user-guide/faq">FAQ</a><a class="navbar__item navbar__link button button--outline button--primary button--md" href="/docs/user-guide/get-started/overview">Get Started</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item"><a href="https://www.instagram.com/geogardenclub/" target="_blank" style="content: ''; width: 24px; height: 24px; background-image: url('/instagram/instagram.png'); background-repeat: no-repeat;  background-size: 24px 24px; display: flex"></a></div><div class="navbar__item"><a href="https://www.facebook.com/geogardenclub" target="_blank" style="content: ''; width: 24px; height: 24px; background-image: url('/facebook/facebook.png'); background-repeat: no-repeat;  background-size: 24px 24px; display: flex"></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/onboarding">Onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/develop/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/data-model">Data Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/database-management">Database management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/deployment">Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/screenshots">Screenshots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/backups">Backups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/scripts">Scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/privacy">Privacy and security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/firebase-billing">Firebase Billing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop/adaptive-design">Adaptive design</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/develop/design/features">Design Patterns</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/develop/quality-assurance/coding-standards">Quality Assurance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/develop/releases/release-1.0/goals">Prior Releases</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/business">Business Development Guide</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Architecture</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Architecture</h1></header>
<p>The GeoGardenClub app (GGC) conforms (almost all the time) to the architectural approach advocated by Andreas Bizzotto which he calls the &quot;Riverpod Architecture&quot;.  If you are not familiar with this approach, it&#x27;s worth spending a few minutes reading his article <a href="https://codewithandrea.com/articles/flutter-app-architecture-riverpod-introduction/" target="_blank" rel="noopener noreferrer">Flutter App Architecture with Riverpod: An Introduction</a>.</p>
<p>Another good introduction to software architecture principles as applied to Flutter development comes from the official Flutter documentation: <a href="https://docs.flutter.dev/app-architecture" target="_blank" rel="noopener noreferrer">Architecting Flutter apps</a>.  We believe that GGC&#x27;s architecture conforms to all the architectural principles and recommendations with one exception: we do not &quot;write unit tests for every service, repository and ViewModel class.&quot;. Instead, we only write integration tests. To understand why, please see our <a href="/docs/develop/quality-assurance/testing">Testing documentation</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-server-architecture-perspective">Client-server architecture perspective<a href="#client-server-architecture-perspective" class="hash-link" aria-label="Direct link to Client-server architecture perspective" title="Direct link to Client-server architecture perspective">​</a></h2>
<p>To begin, GGC can be viewed as a simple client-server application: there are two back-end servers (<a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener noreferrer">Firebase Firestore</a> and <a href="https://firebase.google.com/docs/storage" target="_blank" rel="noopener noreferrer">Firebase Cloud Storage</a>) that communicate with a single front-end client (the Flutter ggc_app application) via the Internet:</p>
<img src="/img/develop/ggc-architecture.png">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="layered-application-architecture-perspective">Layered application architecture perspective<a href="#layered-application-architecture-perspective" class="hash-link" aria-label="Direct link to Layered application architecture perspective" title="Direct link to Layered application architecture perspective">​</a></h2>
<p>In the above diagram, the ggc_app is represented as four layers. This layering is strict, in that each layer communicates only with the layer above and below it. Let&#x27;s introduce each layer, moving from bottom to top:</p>
<p><strong>Repository Layer</strong>. This bottom-most layer implements generic code for communication with Firebase: querying collections for documents; adding, deleting, and modifying documents, and so forth. In this layer, data is represented in JSON format (for entities) or binary format (for images).</p>
<p><strong>Data Layer</strong>.  The data layer implements &quot;feature-specific&quot; communication with Firebase. For example, the Data Layer code for the Chapter feature implements classes that queries the Chapter collection in appropriate ways. In this layer, data is still represented as JSON or binary.</p>
<p><strong>Domain Layer</strong>. The domain layer implements code to translate between the data representations used at the data layer (i.e. JSON and Binary) and the data representations used at the Presentation Layer (i.e. Dart classes for entities and collections). The domain layer also implements the &quot;business logic&quot; of the application.</p>
<p><strong>Presentation Layer</strong>. The presentation layer implements the Flutter-based user interface.  All the classes at the presentation layer are Widgets. GGC implements many kinds of UI objects; for example, &quot;Screens&quot; and &quot;Views&quot;.  Screens implement a &quot;top-level&quot; page: they return a Scaffold Widget and they can be routed to.  Views are &quot;components&quot;: they are the building blocks for Screens and can potentially appear in multiple Screens.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="directory-structure-perspective">Directory structure perspective<a href="#directory-structure-perspective" class="hash-link" aria-label="Direct link to Directory structure perspective" title="Direct link to Directory structure perspective">​</a></h2>
<p>There is a relatively straightforward correspondence between the above layers and the directory structure in the ggc_app repository. The top-level of the repo is more or less like any Flutter app.  Here is a semi-annotated version of some of the top-level files and directories to give you an idea of the organization:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ggc_app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .github/                  # GitHub Actions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  android/                  # (Managed by Flutter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  assets/                   # Static data resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ios/                      # (Managed by Flutter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  integration_test          # Test code </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lib/                      # Source code </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  linux/                    # (Managed by Flutter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  macos/                    # (Managed by Flutter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stories/                  # Monarch code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  web/                      # (Managed by Flutter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  windows/                  # (Managed by Flutter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  analysis_options.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pubspec.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  run_build_runner.sh       # Example of a GGC script     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :      </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The one way that the top-level directory differs from vanilla Flutter apps is the presence of a dozen shell scripts (the files whose names begin with &quot;run&quot; and have a .sh suffix). We created these scripts to simplify certain development actions. For more details, see the <a href="/docs/develop/scripts">Scripts documentation page</a>.</p>
<p>The lib/ directory is where most of the action is. Here&#x27;s a semi-annotated perspective of some the files and directories at the top-level of the lib/ directory:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lib/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  features/        #  Feature-based organization for Data, Domain, and Presentation layers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repositories/    #  Implements the &quot;Repository&quot; layer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  theme/           #  UI Theme (fonts, colors, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  main.dart        #  Main entry point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  main_test_fixture.dart # An entry point that uses the test fixture data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  router.dart      #  Implements routes using go_router </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Finally, here&#x27;s a look inside some of the files and directories in the features/ directory:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">features/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  admin/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  authentication/        # Authentication using firebase_ui_auth.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /presentation        # Implementation only requires UI widgets.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  common/                # Cross-cutting code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  chapter/               # Implementation of Chapter feature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data/                # Firebase interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    domain/              # Chapter, ChapterCollection, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    presentation/        # ChapterIndexScreen, ChapterView, etc.    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  crop/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  garden/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  gardener/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  home/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  observation/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each feature can have one or more of the following subdirectories: domain/, data/, and presentation/.  The authentication feature only requires a presentation/ subdirectory, while the chapter feature requires all three. For more details, see the <a href="/docs/develop/design/features">Features Design Pattern documentation</a>.</p>
<p>As you can see, there is a direct correspondence between the &quot;layered&quot; architecture diagram and the layout of files and directories.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-flow-perspective">Data flow perspective<a href="#data-flow-perspective" class="hash-link" aria-label="Direct link to Data flow perspective" title="Direct link to Data flow perspective">​</a></h2>
<p>A final architectural perspective illustrates the way data flows between external sources (i.e. Firestore) and the app. Here is a diagram that illustrates some of the key components:</p>
<img src="/img/develop/ggc-dataflow-diagram.png">
<p>Note that at the Firestore level, data is stored in a set of &quot;flat&quot; collections corresponding in many cases to &quot;features&quot; (i.e. Beds, Chapters, Crops, etc.). For the most part, the data model is similar to the table structure associated with SQL databases, even though Firestore is a document-oriented (NoSQL) database. For more details, see the <a href="/docs/develop/data-model">Data Model documentation</a>.</p>
<p>This diagram also illustrates the way GGC addresses the issue of asynchronous communication with Firebase Firestore. In asynchronous communication, there will be an unpredictable delay between the &quot;request&quot; (i.e. to retrieve or to store data) and the &quot;response&quot; (i.e. the request succeeded or failed). During this time, the UI should show some sort of &quot;loading&quot; indicator rather than freezing (or potentially just as bad, allowing the user to interact further with the UI). Finally, if the request fails (network or service is down), the UI should indicate the failure.</p>
<p>Managing asynchronous communication is complex. In GGC, we have encapsulated the complexities of asynchronous communication into two mechanisms: the &quot;With&quot; widgets (for retrieval of data asynchronously), and the MutateController (for persisting data asynchronously).  What this provides is the ability to write app code with clearly defined boundaries between asynchronous and synchronous actions, which simplifies the code and reduces the chances for bugs in data storage and retrieval.</p>
<p>For details on our approach to asynchronous data retrieval, see the <a href="/docs/develop/design/with-widgets">With Widgets Design Pattern documentation</a>.</p>
<p>For details on our approach to asynchronous data persistence, see the <a href="/docs/develop/design/data-mutation">Data Mutation Design Pattern documentation</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/develop/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/develop/data-model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Model</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#client-server-architecture-perspective" class="table-of-contents__link toc-highlight">Client-server architecture perspective</a></li><li><a href="#layered-application-architecture-perspective" class="table-of-contents__link toc-highlight">Layered application architecture perspective</a></li><li><a href="#directory-structure-perspective" class="table-of-contents__link toc-highlight">Directory structure perspective</a></li><li><a href="#data-flow-perspective" class="table-of-contents__link toc-highlight">Data flow perspective</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/docs/user-guide/terms-and-conditions">Terms and Conditions</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/docs/user-guide/privacy">Privacy</a><span class="footer__link-separator">·</span><a class="footer__link-item" href="/docs/home/contact-us">Contact Us</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Geo Garden Club, LLC</div></div></div></footer></div>
</body>
</html>